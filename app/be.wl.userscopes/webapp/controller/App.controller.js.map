{"version":3,"sources":["../../src/controller/App.controller.ts"],"names":["BaseController","App","onInit","getView","addStyleClass","getOwnerComponent","getContentDensityClass","getRouter","attachRouteMatched","event","onRouteMatched","onStateChanged","oEvent","bIsNavigationArrow","getParameter","sLayout","updateUIElements","navTo","currentRouteName","layout","id","currentId","sRouteName","oArguments","oModel","getModel","helper","getHelper","oUIState","getCurrentUIState","setData","onExit","detachRouteMatched"],"mappings":";;;;;QAEOA,c;;AAOP;AACA;AACA;QACqBC,G,GAAYD,c;AAIzBE,IAAAA,M,qBAAe;AACrB;AACA,WAAKC,OAAL,GAAeC,aAAf,CAA8B,KAAKC,iBAAL,EAAD,CAA2CC,sBAA3C,EAA7B;AACC,WAAKD,iBAAL,EAAD,CAA2CE,SAA3C,GAAuDC,kBAAvD,CAA2EC,KAAD,IAAmB,KAAKC,cAAL,CAAoBD,KAApB,CAA7F,EAAyH,IAAzH;AACA,K;AAEME,IAAAA,c,2BAAeC,M,EAAsB;AAC3C,YAAMC,kBAAkB,GAAGD,MAAM,CAACE,YAAP,CAAoB,mBAApB,CAA3B;AAAA,YACCC,OAAO,GAAIH,MAAM,CAACE,YAAP,CAAoB,QAApB,CADZ;AAGA,WAAK,KAAKE,gBAAL,EAAL,CAJ2C,CAM3C;;AACA,UAAIH,kBAAJ,EAAwB;AACtB,aAAKR,iBAAL,EAAD,CAA2CE,SAA3C,GAAuDU,KAAvD,CAA6D,KAAKC,gBAAlE,EAAoF;AAACC,UAAAA,MAAM,EAAEJ,OAAT;AAAkBK,UAAAA,EAAE,EAAE,KAAKC;AAA3B,SAApF,EAA0H,EAA1H,EAA8H,IAA9H;AACA;AACD,K;AAEMX,IAAAA,c,2BAAeE,M,EAAsB;AAC3C,YAAMU,UAAU,GAAIV,MAAM,CAACE,YAAP,CAAoB,MAApB,CAApB;AAAA,YACCS,UAAU,GAAIX,MAAM,CAACE,YAAP,CAAoB,WAApB,CADf;AAGA,WAAK,KAAKE,gBAAL,EAAL,CAJ2C,CAM3C;;AACA,WAAKE,gBAAL,GAAwBI,UAAxB;AACA,WAAKD,SAAL,GAAiBE,UAAU,CAACH,EAA5B;AACA,K;AAEaJ,IAAAA,gB,qCAAmB;AAChC,YAAMQ,MAAM,GAAK,KAAKnB,iBAAL,EAAD,CAA2CoB,QAA3C,CAAoD,SAApD,CAAhB;AAAA,YACCC,MAAM,GAAG,MAAO,KAAKrB,iBAAL,EAAD,CAA2CsB,SAA3C,EADhB;AAAA,YAECC,QAAQ,GAAIF,MAAM,CAACG,iBAAP,EAFb;AAGAL,MAAAA,MAAM,CAACM,OAAP,CAAeF,QAAf;AACA,K;AAEMG,IAAAA,M,qBAAa;AACnB,WAAKxB,SAAL,MAAoB,KAAKA,SAAL,GAAiByB,kBAAjB,CAAqCvB,KAAD,IAAmB,KAAKC,cAAL,CAAoBD,KAApB,CAAvD,EAAmF,IAAnF,CAApB;AACA;;SA1CmBR,G","sourcesContent":["import AppComponent, { UIState } from \"../Component\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport BaseController from \"./BaseController\";\nimport UI5Event from \"sap/ui/base/Event\";\n\nexport type inputParameters = {\n\tid: string;\n};\n\n/**\n * @namespace be.wl.userscopes.controller\n */\nexport default class App extends BaseController {\n\tprivate currentRouteName: string;\n\tprivate currentId: string;\n\n\tpublic onInit(): void {\n\t\t// apply content density mode to root view\n\t\tthis.getView().addStyleClass((this.getOwnerComponent() as AppComponent).getContentDensityClass());\n\t\t(this.getOwnerComponent() as AppComponent).getRouter().attachRouteMatched((event: UI5Event)=>this.onRouteMatched(event), this);\n\t}\n\n\tpublic onStateChanged(oEvent: UI5Event):void{\n\t\tconst bIsNavigationArrow =(oEvent.getParameter(\"isNavigationArrow\") as string),\n\t\t\tsLayout = (oEvent.getParameter(\"layout\") as string);\n\n\t\tvoid this.updateUIElements();\n\n\t\t// Replace the URL with the new layout if a navigation arrow was used\n\t\tif (bIsNavigationArrow) {\n\t\t\t(this.getOwnerComponent() as AppComponent).getRouter().navTo(this.currentRouteName, {layout: sLayout, id: this.currentId},{}, true);\n\t\t}\n\t}\n\t\n\tpublic onRouteMatched(oEvent: UI5Event):void{\n\t\tconst sRouteName = (oEvent.getParameter(\"name\") as string),\n\t\t\toArguments = (oEvent.getParameter(\"arguments\") as inputParameters);\n\n\t\tvoid this.updateUIElements();\n\n\t\t// Save the current route name\n\t\tthis.currentRouteName = sRouteName;\n\t\tthis.currentId = oArguments.id;\n\t}\n\n\tprivate async updateUIElements() {\n\t\tconst oModel = ((this.getOwnerComponent() as AppComponent).getModel(\"appView\") as JSONModel),\n\t\t\thelper = await (this.getOwnerComponent() as AppComponent).getHelper(),\n\t\t\toUIState = (helper.getCurrentUIState() as UIState);\n\t\toModel.setData(oUIState);\n\t}\n\n\tpublic onExit():void{\n\t\tthis.getRouter() && this.getRouter().detachRouteMatched((event: UI5Event)=>this.onRouteMatched(event), this);\n\t}\n}"],"file":"App.controller.js"}