{"version":3,"sources":["../../src/controller/Master.controller.ts"],"names":["BaseController","system","Master","descendingSort","onMasterMatched","getModel","setProperty","onListItemPress","event","replace","phone","id","getSource","getBindingContext","getProperty","helper","getOwnerComponent","getHelper","nextUIState","getNextUIState","getRouter","navTo","layout","onSearch","query","getParameter","tableSearchState","length","Filter","FilterOperator","Contains","getView","byId","getBinding","filter","onSort","view","table","binding","sorter","Sorter","sort"],"mappings":";;;;;QAAOA,c;;QACEC,M;;AAWT;AACA;AACA;QACqBC,M,GAAeF,c;;;WAC3BG,c,GAAiB,K;;AAEjBC,IAAAA,e,8BAAkB;AACxB,WAAKC,QAAL,CAAc,SAAd,CAAD,CAAwCC,WAAxC,CAAoD,SAApD,EAA+D,WAA/D;AACA,K;AAEaC,IAAAA,e,kCAAgBC,K,EAAgC;AAC7D,YAAMC,OAAO,GAAG,CAACR,MAAM,CAACS,KAAxB;AAAA,YACCC,EAAE,GAAKH,KAAK,CAACI,SAAN,EAAD,CAAsCC,iBAAtC,GAA0DC,WAA1D,CAAsE,UAAtE,CADP;AAAA,YAECC,MAAM,GAAG,MAAO,KAAKC,iBAAL,EAAD,CAAwCC,SAAxC,EAFhB;AAAA,YAGCC,WAAW,GAAIH,MAAM,CAACI,cAAP,CAAsB,CAAtB,CAHhB;AAIA,WAAKC,SAAL,GAAiBC,KAAjB,CAAuB,QAAvB,EAAiC;AAAEV,QAAAA,EAAE,EAAEA,EAAN;AAAUW,QAAAA,MAAM,EAAEJ,WAAW,CAACI;AAA9B,OAAjC,EAAwE,EAAxE,EAA2Eb,OAA3E;AACA,K;AAEOc,IAAAA,Q,qBAASf,K,EAAiB;AACjC,YAAMgB,KAAK,GAAGhB,KAAK,CAACiB,YAAN,CAAmB,OAAnB,CAAd;AACA,UAAIC,gBAA8B,GAAG,EAArC;;AAEA,UAAIF,KAAK,IAAIA,KAAK,CAACG,MAAN,GAAe,CAA5B,EAA+B;AAC9BD,QAAAA,gBAAgB,GAAG,CAAC,IAAIE,MAAJ,CAAW,MAAX,EAAmBC,cAAc,CAACC,QAAlC,EAA4CN,KAA5C,CAAD,CAAnB;AACA;;AAEC,WAAKO,OAAL,GAAeC,IAAf,CAAoB,eAApB,CAAD,CAA+CC,UAA/C,CAA0D,OAA1D,CAAD,CAAyFC,MAAzF,CAAgGR,gBAAhG,EAAkH,aAAlH;AACA,K;AAEOS,IAAAA,M,mBAAO3B,K,EAAiB;AAC/B,WAAKL,cAAL,GAAsB,CAAC,KAAKA,cAA5B;AACA,YAAMiC,IAAI,GAAG,KAAKL,OAAL,EAAb;AAAA,YACCM,KAAK,GAAID,IAAI,CAACJ,IAAL,CAAU,eAAV,CADV;AAAA,YAECM,OAAO,GAAID,KAAK,CAACJ,UAAN,CAAiB,OAAjB,CAFZ;AAAA,YAGCM,MAAM,GAAG,IAAIC,MAAJ,CAAW,MAAX,EAAmB,KAAKrC,cAAxB,CAHV;AAKAmC,MAAAA,OAAO,CAACG,IAAR,CAAaF,MAAb;AACA;;SAlCmBrC,M","sourcesContent":["import BaseController from \"./BaseController\";\nimport { system } from \"sap/ui/Device\";\nimport UI5Event from \"sap/ui/base/Event\";\nimport Component, { UIState } from \"../Component\";\nimport List from \"sap/m/List\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport ODataListBinding from \"sap/ui/model/odata/v2/ODataListBinding\";\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport Filter from \"sap/ui/model/Filter\";\nimport FilterOperator from \"sap/ui/model/FilterOperator\";\nimport Sorter from \"sap/ui/model/Sorter\";\n\n/**\n * @namespace be.wl.userscopes.controller\n */\nexport default class Master extends BaseController {\n\tprivate descendingSort = false;\n\n\tprivate onMasterMatched() {\n\t\t(this.getModel(\"appView\") as JSONModel).setProperty(\"/layout\", \"OneColumn\");\n\t}\n\n\tprivate async onListItemPress(event: UI5Event): Promise<void> {\n\t\tconst replace = !system.phone,\n\t\t\tid = ((event.getSource() as CustomListItem).getBindingContext().getProperty(\"username\") as number),\n\t\t\thelper = await (this.getOwnerComponent() as Component).getHelper(),\n\t\t\tnextUIState = (helper.getNextUIState(1) as UIState);\n\t\tthis.getRouter().navTo(\"detail\", { id: id, layout: nextUIState.layout },{},replace);\n\t}\n\n\tprivate onSearch(event: UI5Event) {\n\t\tconst query = event.getParameter(\"query\") as string;\n\t\tlet tableSearchState:Array<Filter> = [];\n\n\t\tif (query && query.length > 0) {\n\t\t\ttableSearchState = [new Filter(\"Name\", FilterOperator.Contains, query)];\n\t\t}\n\n\t\t((this.getView().byId(\"productsTable\") as List).getBinding(\"items\") as ODataListBinding).filter(tableSearchState, \"Application\");\n\t}\n\n\tprivate onSort(event: UI5Event) {\n\t\tthis.descendingSort = !this.descendingSort;\n\t\tconst view = this.getView(),\n\t\t\ttable = (view.byId(\"productsTable\") as List),\n\t\t\tbinding = (table.getBinding(\"items\") as ODataListBinding),\n\t\t\tsorter = new Sorter(\"Name\", this.descendingSort);\n\n\t\tbinding.sort(sorter);\n\t}\n}"],"file":"Master.controller.js"}