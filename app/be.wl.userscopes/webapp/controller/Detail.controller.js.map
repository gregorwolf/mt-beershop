{"version":3,"sources":["../../src/controller/Detail.controller.ts"],"names":["BaseController","formatter","Detail","onInit","viewModel","JSONModel","busy","delay","setModel","getRouter","getRoute","attachPatternMatched","event","onObjectMatched","getModel","id","getParameter","metadataLoaded","then","path","createKey","ID","getView","bindElement","events","change","onBindingChange","dataRequested","setProperty","dataReceived","elementBinding","getElementBinding","getBoundContext","getTargets","display","onCloseDetailPress","navTo","handleFullScreen","nextLayout","getProperty","layout","handleExitFullScreen","handleClose"],"mappings":"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","sourcesContent":["import BaseController from \"./BaseController\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport formatter from \"../model/formatter\";\nimport UI5Event from \"sap/ui/base/Event\";\nimport ODataModel from \"sap/ui/model/odata/v2/ODataModel\";\nimport {inputParameters} from \"./App.controller\";\n\n/**\n * @namespace be.wl.userscopes.controller\n */\nexport default class Detail extends BaseController {\n\tprivate id: string;\n\tprivate formatter = formatter;\n\tpublic onInit(): void {\n\t\tconst viewModel = new JSONModel({\n\t\t\tbusy : false,\n\t\t\tdelay:0\n\t\t});\n\t\tthis.setModel(viewModel, \"detailView\");\n\n\t\tthis.getRouter().getRoute(\"detail\").attachPatternMatched((event:UI5Event)=>this.onObjectMatched(event), this);\n\t}\n\n\tprivate onObjectMatched(event: UI5Event): void {\n\t\tconst viewModel = (this.getModel(\"detailView\") as JSONModel);\n\n\t\tthis.id = (event.getParameter(\"arguments\") as inputParameters).id || this.id || \"0\";\n\n\t\tvoid (this.getModel() as ODataModel).metadataLoaded().then( ()=> {\n\n\t\t\tconst path = (this.getModel() as ODataModel).createKey(\"/UserScopes\",{\n\t\t\t\tID:this.id\n\t\t\t});\n\n\t\t\tthis.getView().bindElement({\n\t\t\t\tpath: path,\n\t\t\t\tevents:{\n\t\t\t\t\tchange : ()=>this.onBindingChange(),\n\t\t\t\t\tdataRequested : ()=>{\n\t\t\t\t\t\tviewModel.setProperty(\"/busy\", true);\n\t\t\t\t\t},\n\t\t\t\t\tdataReceived: function () {\n\t\t\t\t\t\tviewModel.setProperty(\"/busy\", false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t});\n\t}\n\n\tprivate onBindingChange() {\n\t\tconst elementBinding = this.getView().getElementBinding();\n\t\t// No data for the binding\n\t\tif (!elementBinding.getBoundContext()) {\n\t\t\tvoid this.getRouter().getTargets().display(\"detailObjectNotFound\");\n\t\t}\n\t}\n\t\n\tpublic onCloseDetailPress(): void {\n\t\t(this.getModel(\"appView\") as JSONModel).setProperty(\"/actionButtonsInfo/midColumn/fullScreen\", false);\n\t\tthis.getRouter().navTo(\"master\");\n\t}\n\n\tpublic handleFullScreen(): void {\n\t\tconst nextLayout = ((this.getModel(\"appView\") as JSONModel).getProperty(\"/actionButtonsInfo/midColumn/fullScreen\") as string);\n\t\tthis.getRouter().navTo(\"detail\", { layout: nextLayout, id: this.id });\n\t}\n\n\tpublic handleExitFullScreen(): void {\n\t\tconst nextLayout = ((this.getModel(\"appView\") as JSONModel).getProperty(\"/actionButtonsInfo/midColumn/exitFullScreen\") as string);\n\t\tthis.getRouter().navTo(\"detail\", { layout: nextLayout, id: this.id });\n\t}\n\n\tpublic handleClose(): void {\n\t\tconst nextLayout = ((this.getModel(\"appView\") as JSONModel).getProperty(\"/actionButtonsInfo/midColumn/closeColumn\") as string);\n\t\tthis.getRouter().navTo(\"master\", { layout: nextLayout });\n\t}\n}"],"file":"Detail.controller.js"}